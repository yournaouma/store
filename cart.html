<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ›’ Ø³Ù„Ø© Ù†Ø¹ÙˆÙ…Ø© Ø¹Ø§Ù„Ù…ÙŠØ©</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-pink-50 font-sans">

<header class="bg-pink-200 text-center py-3 text-lg font-bold text-gray-800 shadow-md">
  ğŸ›ï¸ Ø³Ù„Ø© Ù…Ø´ØªØ±ÙŠØ§ØªÙƒ Ù…Ù† Ù…ØªØ¬Ø± Ù†Ø¹ÙˆÙ…Ø©
</header>

<main class="max-w-7xl mx-auto mt-4 px-2">

  <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
  <div id="cartContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-1"></div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
  <div class="bg-white p-3 rounded-xl shadow-lg mt-4">
    <form id="checkoutForm" class="space-y-2 text-xs">
      <div>
        <label class="block font-semibold">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ ğŸ‘¤</label>
        <input type="text" id="fullname" class="w-full p-1 border rounded" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" required>
      </div>
      <div>
        <label class="block font-semibold">Ø§Ù„Ø¹Ù…Ø± ğŸ‚</label>
        <input type="number" id="age" class="w-full p-1 border rounded" placeholder="Ø§Ø¯Ø®Ù„ Ø¹Ù…Ø±Ùƒ" required>
      </div>
      <div>
        <label class="block font-semibold">Ø§Ù„Ø³ÙƒÙ† ğŸ“</label>
        <input type="text" id="address" class="w-full p-1 border rounded" placeholder="Ø·Ø±Ø§Ø¨Ù„Ø³ØŒ Ø´Ø§Ø±Ø¹..." required>
      </div>
      <div>
        <label class="block font-semibold">Ù…Ù„Ø§Ø­Ø¸Ø§Øª ğŸ“</label>
        <textarea id="notes" class="w-full p-1 border rounded" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù‡Ù†Ø§"></textarea>
      </div>
      <button type="button" id="checkoutBtn" class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-1 rounded transition duration-200">
        âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„Ù‡ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
      </button>
    </form>
  </div>

</main>

<script>
// ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
let cart = [
  {image:"https://i.postimg.cc/SRkcnQqS/sample3.png", name:"ÙƒØ±ÙŠÙ… ØªØ±Ø·ÙŠØ¨ Ø¹Ù…ÙŠÙ‚", price:35, quantity:0},
  {image:"https://i.postimg.cc/fRFXm6hh/sample4.png", name:"Ø³ÙŠØ±ÙˆÙ… ÙÙŠØªØ§Ù…ÙŠÙ† C", price:42, quantity:0},
  {image:"https://i.postimg.cc/Gpn3kC5W/sample5.png", name:"ØªÙˆÙ†Ø± Ø§Ù„ÙˆØ±Ø¯", price:28, quantity:0},
  {image:"https://i.postimg.cc/L5fCKvjZ/mobile-2.png", name:"ÙˆØ§Ù‚ÙŠ Ø´Ù…Ø³ ØµØ¨Ø§Ø±", price:39, quantity:0},
  {image:"https://i.postimg.cc/g2vL7Prk/sample1.png", name:"Ù…Ù‚Ø´Ø± Ø·Ø¨ÙŠØ¹ÙŠ", price:29, quantity:0},
  {image:"https://i.postimg.cc/7hGdHd6B/sample6.png", name:"ØºØ³ÙˆÙ„ Ù„Ø·ÙŠÙ Ù„Ù„Ø¨Ø´Ø±Ø©", price:33, quantity:0},
  {image:"https://i.postimg.cc/Rh4Jx0D5/sample7.png", name:"Ø³ÙŠØ±ÙˆÙ… Ø­Ù…Ø¶ Ø§Ù„Ù‡ÙŠØ§Ù„ÙˆØ±ÙˆÙ†ÙŠÙƒ", price:48, quantity:0},
  {image:"https://i.postimg.cc/7YpJ5zq9/sample8.png", name:"ÙƒØ±ÙŠÙ… Ù„ÙŠÙ„ÙŠ Ù…ØºØ°ÙŠ", price:54, quantity:0},
  {image:"https://i.postimg.cc/76Gv4zY6/sample9.png", name:"Ø²ÙŠØª Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ", price:40, quantity:0},
  {image:"https://i.postimg.cc/fLbJ2T0C/sample10.png", name:"Ù…Ù†Ø¸Ù Ø±ØºÙˆÙŠ Ù„Ù„Ø¨Ø´Ø±Ø©", price:27, quantity:0}
];

// Ø­ÙØ¸ Ø§Ù„Ø³Ù„Ø©
function saveCart() {
  localStorage.setItem("cart", JSON.stringify(cart));
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© Ø¨Ù…Ø±Ø¨Ø¹Ø§Øª Ù…ØµØºØ±Ø© Ø¬Ø¯Ù‹Ø§
function renderCart(){
  const container = document.getElementById("cartContainer");
  let total = 0;

  container.innerHTML = cart.map((item,index)=>{
    total += item.price * item.quantity;
    return `
      <div class="bg-white rounded-md shadow-sm p-1 flex flex-col items-center text-center text-[10px]">
        <img src="${item.image}" alt="${item.name}" class="w-full h-16 object-contain rounded mb-1">
        <h4 class="font-semibold mb-1">${item.name}</h4>
        <p class="text-gray-700 mb-1">${item.price} Ø¯.Ù„ Ã— ${item.quantity}</p>
        <div class="flex gap-1 mb-1">
          <button onclick="changeQuantity(${index},-1)" class="px-1 py-0.5 bg-gray-200 rounded hover:bg-gray-300">-</button>
          <button onclick="changeQuantity(${index},1)" class="px-1 py-0.5 bg-gray-200 rounded hover:bg-gray-300">+</button>
        </div>
        <button onclick="removeItem(${index})" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-0.5 rounded text-[10px]">
          Ø¥Ø²Ø§Ù„Ø©
        </button>
      </div>
    `;
  }).join('') + `<div class="text-right font-bold text-sm mt-2">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${total.toFixed(2)} Ø¯.Ù„</div>`;
}

// ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ©
function changeQuantity(index,delta){
  cart[index].quantity += delta;
  if(cart[index].quantity < 0) cart[index].quantity = 0;
  saveCart();
  renderCart();
}

// Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬
function removeItem(index){
  Swal.fire({
    title: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
    text: "Ø³ÙŠØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©!",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#f37ba3',
    cancelButtonColor: '#aaa',
    confirmButtonText: 'Ù†Ø¹Ù…ØŒ Ø§Ø­Ø°Ù',
    cancelButtonText: 'Ø¥Ù„ØºØ§Ø¡'
  }).then((result)=>{
    if(result.isConfirmed){
      cart.splice(index,1);
      saveCart();
      renderCart();
      Swal.fire('ØªÙ… Ø§Ù„Ø­Ø°Ù!','ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©','success');
    }
  });
}

// Ø­ÙØ¸ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
saveCart();
renderCart();

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
document.getElementById("checkoutBtn").addEventListener("click",()=>{
  const fullname = document.getElementById("fullname").value.trim();
  const age = document.getElementById("age").value.trim();
  const address = document.getElementById("address").value.trim();
  const notes = document.getElementById("notes").value.trim();

  if(!fullname || !age || !address){
    Swal.fire("âš ï¸","ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","warning");
    return;
  }

  let message = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Ù†Ø¹ÙˆÙ…Ø© ğŸ›ï¸%0A`;
  message += `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${fullname}%0A`;
  message += `ğŸ‚ Ø§Ù„Ø¹Ù…Ø±: ${age}%0A`;
  message += `ğŸ  Ø§Ù„Ø³ÙƒÙ†: ${address}%0A`;
  if(notes) message += `ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}%0A`;
  message += `%0AğŸ§¾ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:%0A`;

  let total = 0;
  cart.forEach(item=>{
    total += item.price*item.quantity;
    message += `â€¢ ${item.name} Ã— ${item.quantity} = ${item.price*item.quantity} Ø¯.Ù„%0A`;
  });
  message += `%0AØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${total.toFixed(2)} Ø¯.Ù„`;

  const whatsappNumber = "218915066938";
  const url = `https://wa.me/${whatsappNumber}?text=${message}`;
  window.open(url,"_blank");
});
</script>

</body>
</html>
